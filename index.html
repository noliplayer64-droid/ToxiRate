<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<img src="IMG_2161.PNG" style="width:140px; display:block; margin:0 auto;">
<title>ToxiRate – Venom Risk Calculator</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #0f1220;
    color: #eaeaf0;
    padding: 20px;
  }
  h1, h2 {
    color: #ffb703;
  }
  .box {
    background: #1a1d33;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 8px;
  }
  label {
    display: block;
    margin-top: 10px;
  }
  input, button {
    margin-top: 5px;
    padding: 6px;
    width: 100%;
    max-width: 300px;
  }
  button {
    margin-top: 15px;
    background: #ffb703;
    border: none;
    cursor: pointer;
    font-weight: bold;
  }
  .result {
    font-size: 1.2em;
    margin-top: 10px;
    color: #90dbf4;
  }
  table {
    border-collapse: collapse;
    margin-top: 10px;
    width: 100%;
  }
  th, td {
    border: 1px solid #555;
    padding: 6px 10px;
  }
  .note {
    font-size: 0.9em;
    color: #bbb;
  }
</style>
</head>

<body>

<h1>ToxiRate</h1>
<p class="note">An educational venom risk mapping and safety tool. To be used if you have just had an encounter with a dangerous animal followed by a venomous bite or sting. Also to be used if you are generally anxious about a toxic animal in your area. If you have any problems with the website, please email this number.no number yet :[</p>

<div class="box">
<h2>Definitions</h2>
<ul>
  <li><strong>HLT (Human Lethality Threshold):</strong> Estimated number of stings or venom units required to cause fatal systemic effects in an average human without medical intervention. Basically how many envemomations will kill an average human.</li>
  <li><strong>COW (Critical Onset Window):</strong> Minutes before life-threatening symptoms begin. How long you have until systematic failure after the HLT has been met.</li>
  <li><strong>PRR (Poison Risk Rating):</strong> Combined danger score based on the HLT and COW to measure deadliness in toxins, from 1 (low) to 10 (extreme).</li>
  <li><strong>   DISCLAIMERS:</strong> If you have any allergies to wasps and other animals, I'm sorry, this app is designed for the average human. The HLT is based on a 25-year old person in good health. I would also like it to be noted that not all venomous animals are catalogued, so I am sorry if you encouter one and are envenomed with no help from this website. Other species that aren't catalogued: It may be because there are no recorded deaths for them. if you know of an unrecorded death,please email me any sense of the HLT and COW.</li>
</ul>
</div>

<div class="box">
<h2>Species Catalogue (Searchable)</h2>
<label for="speciesSearch">Type species name:</label>
<input list="speciesOptions" id="speciesSearch" placeholder="Start typing a species..." oninput="searchSpecies()">

<datalist id="speciesOptions">
  <option value="Box Jellyfish">
  <option value="Sydney Funnel-web Spider">
  <option value="Asian Giant Hornet">
  <option value="Yellow-legged Hornet">
  <option value="Indian Red Scorpion">
  <option value="Inland Taipan">
  <option value="Deathstalker Scorpion">
  <option value="Cone Snail">
  <option value="Blue Ringed Octopus">
  <option value="Lion's Mane Jellyfish">
  <option value="Saw Scaled Viper">
  <option value="Tiger Rattlesnake">
</datalist>

<p class="note">Start typing and select a species to auto-fill HLT & COW.</p>
</div>

<div class="box">
<h2>PRR Calculator</h2>

<label for="hlt">HLT (number of stings):</label>
<input type="number" id="hlt" min="1">

<label for="cow">COW (minutes):</label>
<input type="number" id="cow" min="1">

<button onclick="calculatePRR()">Calculate PRR</button>

<div class="result" id="output"></div>
</div>

<div class="box">
<h2>PRR Scale Explained</h2>
<table>
<tr><th>PRR</th><th>Meaning</th></tr>
<tr><td>0-1–2</td><td>Low concern, mostly harmless; minor pain.</td></tr>
<tr><td>3–4</td><td>Painful; medical attention advised for safety.</td></tr>
<tr><td>5–6</td><td>Severe envenomation possible; prompt care recommended.</td></tr>
<tr><td>7–8</td><td>Critical; emergency treatment required.</td></tr>
<tr><td>9–10</td><td>Rapidly lethal without immediate medical intervention.</td></tr>
</table>
</div>

<div class="box">
<h2>Research Log</h2>
<p class="note">Write down species you’ve researched and their PRR values.</p>

<table contenteditable="true">
<tr>
  <th>Species</th>
  <th>HLT</th>
  <th>COW</th>
  <th>PRR</th>
  <th>Notes</th>
</tr>
<tr>
  <td></td><td></td><td></td><td></td><td></td>
</tr>
</table>
</div>

<script>
// Catalogue data
const catalogue = [
  { name: "Box Jellyfish", hlt: 1, cow: 5 },
  { name: "Sydney Funnel-web Spider", hlt: 1, cow: 15 },
  { name: "Asian Giant Hornet", hlt: 59, cow: 120 },
  { name: "Yellow-legged Hornet", hlt: 100, cow: 180 },
  { name: "Indian Red Scorpion", hlt: 1, cow: 120 },
  { name: "Inland Taipan", hlt: 1, cow: 120 },
  { name: "Deathstalker Scorpion", hlt: 1, cow: 150 },
  { name: "Cone Snail", hlt: 1, cow: 180 },
  { name: "Blue Ringed Octopus", hlt: 1, cow: 360 },
  { name: "Lion's Mane Jellyfish", hlt: 5, cow: 1440 },
  { name: "Saw Scaled viper", hlt: 1, cow: 120 },
  { name: "Tiger Rattlesnake", hlt: 1, cow: 360 },
  { name: "Stonefish", hlt: 1, cow: 45 }
];

// Fuzzy search: auto-fill HLT & COW
function searchSpecies() {
  const input = document.getElementById("speciesSearch").value.trim().toLowerCase();
  const match = catalogue.find(species => species.name.toLowerCase().includes(input));
  if (match) {
    document.getElementById("hlt").value = match.hlt;
    document.getElementById("cow").value = match.cow;
  }
}

// PRR Calculator
function calculatePRR() {
  const hlt = parseFloat(document.getElementById("hlt").value);
  const cow = parseFloat(document.getElementById("cow").value);

  if (isNaN(hlt) || isNaN(cow) || hlt <= 0 || cow <= 0) {
    document.getElementById("output").innerText =
      "Please enter valid HLT and COW values.";
    return;
  }

  const severityScore = Math.min(10, 10 / hlt);
  const speedScore = Math.min(10, 10 / (cow / 5));
  const prr = Math.round((severityScore + speedScore) / 2);

  document.getElementById("output").innerText =
    "Poison Risk Rating (PRR): " + prr + " / 10";
}
</script>

</body>
</html>
