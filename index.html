<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ToxiMap – Venom Risk Calculator</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #0f1220;
    color: #eaeaf0;
    padding: 20px;
  }
  h1, h2 {
    color: #ffb703;
  }
  .box {
    background: #1a1d33;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 8px;
  }
  label {
    display: block;
    margin-top: 10px;
  }
  input, select, button {
    margin-top: 5px;
    padding: 6px;
    width: 100%;
    max-width: 300px;
  }
  button {
    margin-top: 15px;
    background: #ffb703;
    border: none;
    cursor: pointer;
    font-weight: bold;
  }
  .result {
    font-size: 1.2em;
    margin-top: 10px;
    color: #90dbf4;
  }
  table {
    border-collapse: collapse;
    margin-top: 10px;
  }
  th, td {
    border: 1px solid #555;
    padding: 6px 10px;
  }
  .note {
    font-size: 0.9em;
    color: #bbb;
  }
</style>
</head>

<body>

<h1>ToxiMap</h1>
<p class="note">An educational venom risk mapping and safety tool.</p>

<div class="box">
<h2>Definitions</h2>
<ul>
  <li><strong>HLT (Human Lethality Threshold):</strong> Estimated number of stings or venom units required to cause fatal systemic effects in an average human without medical intervention.</li>
  <li><strong>COW (Critical Onset Window):</strong> Time in minutes before life‑threatening symptoms begin. Basically how long you have to live and how urgent your medical attention is.</li>
  <li><strong>PRR (Poison Risk Rating):</strong> Combined danger score from 1 (low) to 10 (extreme).</li>
</ul>
</div>

  
<div class="box">
  <h2>Species Catalogue</h2>
  <label for="speciesSearch">Type species name:</label>
  <input list="speciesOptions" id="speciesSearch" placeholder="Start typing a species..." oninput="searchSpecies()">

  <datalist id="speciesOptions">
    <option value="Box Jellyfish">
    <option value="Sydney Funnel-web Spider">
    <option value="Asian Giant Hornet">
    <option value="Yellow-legged Hornet">
    <!-- Add new species here -->
  </datalist>

  <p class="note">Start typing and select a species to auto-fill HLT & COW.</p>
</div>

<script>
// Catalogue data
const catalogue = [
  { name: "Box Jellyfish", hlt: 1, cow: 5 },
  { name: "Sydney Funnel-web Spider", hlt: 1, cow: 15 },
  { name: "Asian Giant Hornet", hlt: 59, cow: 120 },
  { name: "Yellow-legged Hornet", hlt: 100, cow: 180 }
  { name: "Indian Red Scorpion", hlt: 1, cow: 120 }
];

// Function to fill HLT & COW from selected species
function searchSpecies() {
  const input = document.getElementById("speciesSearch").value.toLowerCase();
  const match = catalogue.find(species => species.name.toLowerCase() === input);
  if (match) {
    document.getElementById("hlt").value = match.hlt;
    document.getElementById("cow").value = match.cow;
  }
}
</script>

</script>
<div class="box">
<h2>PRR Calculator</h2>

<label for="hlt">HLT (number of stings):</label>
<input type="number" id="hlt" min="1">

<label for="cow">COW (minutes):</label>
<input type="number" id="cow" min="1">

<button onclick="calculatePRR()">Calculate PRR</button>

<div class="result" id="output"></div>
</div>

  <div class="box">
  <h2>PRR Scale Explained</h2>
  <table>
    <tr><th>PRR</th><th>Meaning</th></tr>
    <tr><td>1–2</td><td>Low concern, mostly harmless; minor pain.</td></tr>
    <tr><td>3–4</td><td>Painful; medical attention advised for safety.</td></tr>
    <tr><td>5–6</td><td>Severe envenomation possible; prompt care recommended.</td></tr>
    <tr><td>7–8</td><td>Critical; emergency treatment required.</td></tr>
    <tr><td>9–10</td><td>Rapidly lethal without immediate medical intervention.</td></tr>
  </table>
</div>

<div class="box">
<h2>Research Log</h2>
<p class="note">Write down species you’ve researched and their PRR values.</p>

<table contenteditable="true">
<tr>
  <th>Species</th>
  <th>HLT</th>
  <th>COW</th>
  <th>PRR</th>
  <th>Notes</th>
</tr>
<tr>
  <td></td><td></td><td></td><td></td><td></td>
</tr>
</table>
</div>

<script>
function fillSpecies() {
  const sel = document.getElementById("species").selectedOptions[0];
  if (!sel) return;

  document.getElementById("hlt").value = sel.dataset.hlt;
  document.getElementById("cow").value = sel.dataset.cow;
}

function calculatePRR() {
  const hlt = parseFloat(document.getElementById("hlt").value);
  const cow = parseFloat(document.getElementById("cow").value);

  if (isNaN(hlt) || isNaN(cow) || hlt <= 0 || cow <= 0) {
    document.getElementById("output").innerText =
      "Please enter valid HLT and COW values.";
    return;
  }

  const severityScore = Math.min(10, 10 / hlt);
  const speedScore = Math.min(10, 10 / (cow / 5));
  const prr = Math.round((severityScore + speedScore) / 2);

  document.getElementById("output").innerText =
    "Poison Risk Rating (PRR): " + prr + " / 10";
}
</script>

</body>
</html>
